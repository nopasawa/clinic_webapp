{% extends "layout.html" %}
{% block content %}
    <h2>จัดการหัวข้อการนัดหมาย</h2>
    <div class="card">
        <h3>เพิ่มหัวข้อใหม่</h3>
        <form action="{{ url_for('manage_subjects') }}" method="POST">
            <input type="hidden" name="action" value="add">
            <label for="title">ชื่อหัวข้อ</label>
            <input type="text" id="title" name="title" required>
            <button type="submit" class="btn">เพิ่มหัวข้อ</button>
        </form>
    </div>
    <hr>
    <h3>หัวข้อทั้งหมด</h3>
    <div class="table-container">
        <table>
            <thead><tr><th>หัวข้อ</th><th style="width: 100px;">จัดการ</th></tr></thead>
            <tbody>
                {% for subject in subjects %}
                <tr>
                    <td>{{ subject.title }}</td>
                    <td>
                        <form action="{{ url_for('manage_subjects') }}" method="POST" onsubmit="return confirm('ยืนยันการลบหัวข้อนี้?')">
                            <input type="hidden" name="action" value="delete">
                            <input type="hidden" name="subject_id" value="{{ subject.id }}">
                            <button type="submit" class="btn btn-danger">ลบ</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}